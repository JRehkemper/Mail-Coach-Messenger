<!DOCTYPE html>
<html>
    <head>
        <title>Chatroom</title>
        <meta charset="utf-8">
        <meta name="description" content="The HTML5 Herald">
        <meta name="author" content="SitePoint">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">

        <!-- Bootstrap css-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    </head>
    <body>
        <div class="container-fluid">
            <div class="row" style="margin-top: 10vh;">
                <div class="col-2">
                    <h2>Chatrooms</h2>
                </div>
                <div class="col-8 mx-auto HeaderDiv p-3" >
                    <div class="Header">
                        <h1 class="text-center">Realtime Chatroom</h1>
                    </div>
                    <div class="Chatarea">
                        <div class="col-6 mx-auto">
                            <ul id="messages">
                                <li>test</li>
                                <li>test</li>
                                <li>test</li>
                                <li>test</li>
                                <li>test</li>
                                <li>test</li>
                                <li>test</li>
                                <li>test</li>
                                <li>test</li>
                                <li>test</li>

                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-2">

                </div>
                <!-- Chatinput -->
                <div class="row">
                    <div class="col-12" style="background-color: #555 !important;">
                        <div class="col-6 mx-auto fixed-bottom">
                            <form id="form" action="">
                                <input id="input" autocomplete="off" /><button>Send</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            
        </div>
        

        <script src="/socket.io/socket.io.js"></script>
        <script>
  var socket = io();

  var messages = document.getElementById('messages');
  var form = document.getElementById('form');
  var input = document.getElementById('input');

  form.addEventListener('submit', function(e) {
    e.preventDefault();
    if (input.value) {
      socket.emit('chat message', input.value);
      input.value = '';
    }
  });

  socket.on('chat message', function(msg) {
    var item = document.createElement('li');
    item.textContent = msg;
    messages.appendChild(item);
    window.scrollTo(0, document.body.scrollHeight);
  });
</script>
        <!-- Bootstrap scripts -->
        <scrips src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    </body>
</html>
